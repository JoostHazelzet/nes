Development Notes
-----------------

Improvements and Corrections
----------------------------
  - Error:  Test failures:
              |-- BRK test failure
              \-- VBlank timing

  - Emulator: Save / load emulator state
  - Emulator: Record keypresses
  - Emulator: Replay keypresses
  - Emulator: run frame by frame
                |-- take input keypresses
                \-- output frame bitmap

  - Major: Switch to Pyglet?
            \-- Does this work better?

  - Major:  APU Improvements
             |-- (Done: Envelopes - are these okay?)
             |-- (Done: Sweep units - are these okay?)
             |-- (Done: Noise - something wrong with it)
             |-- (Maybe done: DMC - need to find a game that uses it to test)
             |-- Interrupt flags in status register
             \-- Error: something wrong with pulse sounds (too short?)
  - Major: Mappers
             |-- MMC 1
             \-- MMC 3
  - Major:  Code tidy up and comments
             |-- Tidy up pxd headers and constants
             |-- Localize class variables related to bkg latches if not needed
             |-- Tidy up PPU code
             |-- Tidy up unused code in ppu
             \-- initialize cython arrays
  - Major:  Test coverage
             |-- try more test ROMS
             |-- make some tests (use cc65?) of our own
             \-- automation of testing

  - Medium:  Greyscale mode
  - Medium:  Colours boost if ppu_mask bits set
  - Medium:  Open bus behaviour on memory
  - Medium:  check IRQ implementation works
              \-- is used in a few places on the NES:  https://wiki.nesdev.com/w/index.php/IRQ

  - Minor:  colliding and lost interrupts
              \-- http://visual6502.org/wiki/index.php?title=6502_Timing_of_Interrupt_Handling
  - Minor:  Background palette hack
  - Minor:  OAMDATA read behaviour during render
  - Minor:  Performance
             |-- Background latches
             \-- Could move more of run_instr -> meta

  - Unknown: "Vertical scroll bits reloaded" at cycles 280-304 of scanline 261 (see _new_frame())
             \-- I think this is from PPU scroll; v latch reloads bits from t latch at new frame, I think

